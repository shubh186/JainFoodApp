<!DOCTYPE html>
<html>
<head>
    <!--
        Customize the content security policy in the meta tag below as needed. Add 'unsafe-inline' to default-src to enable inline JavaScript.
        For details, see http://go.microsoft.com/fwlink/?LinkID=617521
    -->
    <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/; script-src 'self' 'unsafe-inline' https://maps.googleapis.com; media-src *; img-src *">-->

    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, viewport-fit=cover">
    <link rel="stylesheet" type="text/css" href="css/onsenui.css">
    <link rel="stylesheet" type="text/css" href="css/onsen-css-components.min.css">
    <link rel="stylesheet" type="text/css" href="css/GoogleMap.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <script type="text/javascript" src="scripts/onsenui.min.js"></script>
    <title>Jain Food App</title>
</head>
<body>
    <ons-page>
        <ons-toolbar>
            <div class="center">Jain Bites</div>
        </ons-toolbar>
        <ons-tabbar position="bottom">
            <ons-tab page="map.html" label="Map" icon="ion-ios-location, material:md-home" active>
            </ons-tab>
            <ons-tab onclick="showPopover(this, 'popover')" label="By Cuisine" icon="ion-fork" active-icon="ion-fork">
            </ons-tab>
            <ons-tab page="listView.html" label="List View" icon="ion-ios-list-outline" active-icon="ion-ios-list-outline">
            </ons-tab>
        </ons-tabbar>
    </ons-page>
    <ons-popover direction="up" id="popover" cancelable>
        <div id="popoverItems"></div>
    </ons-popover>
    <ons-popover direction="left" id="disclaimerPopup" cancelable>
        <p style="padding: 10px;line-height: 1.5">The restaurant entries included in this app are based on the experiences and knowledge of our Database team, and are not verified by the specific restaurants. It is the duty of the user to confirm whether Jain options are available at restaurants or not.</p>
    </ons-popover>
    <template id="map.html">
        <ons-page id="Map">
            <div>
                <ons-search-input placeholder="Search"
                                  onchange="filterByRestaurantName(this.value)"
                                  class="search-bar map-view-search-bar">
                </ons-search-input>
                <button class="button--quiet"
                        onclick="filterByRestaurantName('')">
                    x
                </button>
            </div>
            <div class="disclaimer-icon">
                <ons-icon size="30px" icon="ion-android-notifications" onclick="showPopover(this, 'disclaimerPopup')"></ons-icon>
            </div>
            <div style="display: none">
                <input id="pac-input"
                       class="controls"
                       type="text"
                       placeholder="Enter a location">
            </div>
            <div id="map"></div>
            <div id="infowindow-content">
                <span id="place-name" class="title"></span><br /><br />
                <span id="place-address"></span>
                <div class="add-button-container">
                    <a class="add-button" onclick="navigateTo('addRestaurant.html');">Add this place</a>
                </div>
            </div>
        </ons-page>
    </template>
    <script>
        var showPopover = function (target, id) {
            var popup = document.getElementById(id);
            if (popup.style.display == 'block') {
                popup.hide();
            } else {
                popup.show(target);
            }
        };
    </script>
    <script type="text/javascript" src="scripts/jquery.min.js"></script>
    <script type="text/javascript" src="scripts/jquery.csv.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="scripts/platformOverrides.js"></script>
    <script type="text/javascript" src="scripts/index.js"></script>
    <script type="text/javascript" src="scripts/GoogleMap.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAB3lEBZaaMOi_NVCn4PhcB2KNC-owMxYY&libraries=places&callback=initLocationProcedure"
            async defer></script>
    <script>
        $(document).on('click', '.accordion-btn', function () {
            var currentId = $(this).attr('id');

            $("#" + currentId + ".accordion").slideToggle(500);

        });
    </script>
</body>
</html>
